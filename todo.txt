TODO
====
Design an audio mixer for ilathid.
- any movie has an internal audio buffer created for it, for decoded audio
- any audio file has the same
- any music file has the same

Each of these has its own volume control.
The audio mixer also has global audio control settings:
- music volume
- snd fx volume
- voice volume

Any audio file can be opened as belonging to one of these mixers

The SDL audio device is given one callback function in the audio mixer, which gets audio from all of these buffers and mixed them.
I then have to hand-mix the audio and apply clipping.

For now: no 3d-sound. store sound position, have function to shift position, store/update listener orientation (2 angles?), but only affect sound by distance attenuation. Later 3d-effects can be added.

3D
==
Audio files can optionally have a position: then I apply distance attenuation and do some sort of right/left mixing. ??

- audio on the right should be louder on the right speaker
- the extent of this depends on how close the audio is to the listener.
> very distant, max out at about 50% difference
> very close, difference approachs inf, ie 0 to max volume
> need to decide on a distance that is associated with 

			a is stronger
			

				    a is not as weak

	a is strong	a|b		a is weak

On the left, audio follows a simple distance attenuation, with inf volume at a distance of 0. normal volume at a distance of 1 (?)
On the right, audio is reduced half, and then a distance attenuation is applied (?)

Up and Down: same as at 90 deg from ear


TALK
====
SDL_MixAudioFormat(stream, mixData, deviceFormat, len, SDL_MIX_MAXVOLUME / 2);
void SDL_AudioCallback(void*  userdata,
                       Uint8* stream,
                       int    len)

http://jcatki.no-ip.org:8080/SDL_mixer/SDL_mixer_frame.html

READING VIDEO AND AUDIO FILES
=============================
Video, Music: only open a file pointer, and stream the data directly to the audio mixer buffer
Audio: read the entire (ogg) audio file into memory, and decode it and play it on the fly.

- Don't need seek for now. Movies, music and audio are played from the beginning. They can be paused, but can't be loaded mid-stream.
- To start with, I will just write a player that assumes there is no video.